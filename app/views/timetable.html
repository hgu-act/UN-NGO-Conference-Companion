<md-toolbar hide-gt-md>
  <div class="md-toolbar-tools">
    <md-button class="md-icon-button" ng-click="appVM.toggleSidenav('left')" hide-gt-sm>
      <md-icon>menu</md-icon>
    </md-button>
    <span class="md-headline" id="toolbar-title">{{timetableVM.toolbarTitle}}</span>
  </div>
</md-toolbar>
<md-toolbar md-whiteframe="4" hide show-gt-md>
  <div class="md-toolbar-tools">
    <md-button class="md-icon-button" ng-click="appVM.toggleSidenav('left')" hide-gt-sm>
      <md-icon>menu</md-icon>
    </md-button>
    <span class="md-headline" id="toolbar-title">{{timetableVM.toolbarTitle}}</span>
  </div>
</md-toolbar>
<md-content id="primary-col" layout="column" layout-gt-md="row" layout-align-gt-md="center start" flex="100">
  <md-tabs hide-gt-md class="md-primary" md-border-bottom md-stretch-tabs="auto"
           md-swipe-content flex="100" md-selected="timetableVM.activeTab">
    <md-tab ng-repeat="timetable in timetableVM.timetables" label="{{timetable.title}}">
      <md-list flex>
        <md-list-item class="md-2-line" ng-repeat="item in timetable.schedules" flex="100">
          <md-icon class="md-avatar-icon" ng-style="{'background-color': timetableVM.mapper[item.type].avatarColor}">
            {{timetableVM.mapper[item.type].icon}}
          </md-icon>
          <div class="md-list-item-text" layout="row" flex="100" layout-margin>
            <div layout="column">
              <p>{{item.startDate | date:'HH:mm'}}</p>
              <p>{{item.endDate | date:'HH:mm'}}</p>
            </div>
            <div layout="column" layout-align="center start" flex="100">
              <span>{{item.title}}</span>
              <p>{{item.location}}</p>
            </div>
          </div>
          <md-divider md-inset ng-if="!$last"></md-divider>
        </md-list-item>
      </md-list>
    </md-tab>
  </md-tabs>
  <div layout="row" flex="100" flex-gt-lg="70" hide show-gt-md>
    <div layout="column" flex="33" ng-repeat="timetable in timetableVM.timetables">
      <md-card>
        <md-card-header>
          <md-card-header-text>
            <span class="md-title">{{timetable.title}}</span>
          </md-card-header-text>
        </md-card-header>
        <md-list flex>
          <md-list-item class="md-2-line" ng-repeat="item in timetable.schedules" flex="100">
            <md-icon class="md-avatar-icon" ng-style="{'background-color': timetableVM.mapper[item.type].avatarColor}">
              {{timetableVM.mapper[item.type].icon}}
            </md-icon>
            <div class="md-list-item-text" layout="row" flex="100" layout-margin>
              <div layout="column">
                <p>{{item.startDate | date:'HH:mm'}}</p>
                <p>{{item.endDate | date:'HH:mm'}}</p>
              </div>
              <div layout="column" layout-align="center start" flex="100">
                <span>{{item.title}}</span>
                <p>{{item.location}}</p>
              </div>
            </div>
            <md-divider md-inset ng-if="!$last"></md-divider>
          </md-list-item>
        </md-list>
      </md-card>
    </div>
  </div>
</md-content>
